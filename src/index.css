/* ============================================================
   AGENDA ESTUDIANTIL — Design System
   Fuentes: Nunito (UI) + Space Mono (tiempos/monoespaciado)
   ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Space+Mono:wght@700&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Variables ──────────────────────────────────────────── */
:root {
  --bg:            #eef0ff;
  --fg:            #1a1a2e;
  --primary:       #6c3de8;
  --primary-l:     #8b5cf6;
  --pink:          #ec4899;
  --card:          #ffffff;
  --border:        #ddd6fe;
  --input-bg:      #eef0ff;
  --scrollbar:     #c4b5fd;
  --header-grad:   linear-gradient(135deg, #6c3de8 0%, #8b5cf6 52%, #ec4899 100%);
  --bubble-grad:   linear-gradient(135deg, #6c3de8, #ec4899);
  --r-xl:  1.75rem;
  --r-md:  1.1rem;
  --r-sm:  0.7rem;
  --r-pill:99px;
}

/* ── Animations ─────────────────────────────────────────── */
@keyframes slideUp {
  from { opacity:0; transform:translateY(24px) scale(0.97); }
  to   { opacity:1; transform:translateY(0)    scale(1); }
}
@keyframes msgIn {
  from { opacity:0; transform:translateY(8px); }
  to   { opacity:1; transform:translateY(0); }
}
@keyframes popIn {
  0%  { transform:scale(0.72); opacity:0; }
  65% { transform:scale(1.06); }
  100%{ transform:scale(1);    opacity:1; }
}
@keyframes pulseRing {
  0%,100%{ box-shadow:0 0 0 0   rgba(255,255,255,.45); }
  50%    { box-shadow:0 0 0 9px rgba(255,255,255,0); }
}
@keyframes dot {
  0%,80%,100%{ transform:scale(.52); opacity:.3; }
  40%        { transform:scale(1);   opacity:1; }
}
@keyframes fillBar { from{ width:0; } }

/* ── Base ───────────────────────────────────────────────── */
html,body,#root { height:100%; }

body {
  font-family:'Nunito',system-ui,sans-serif;
  background:var(--bg);
  background-image:
    radial-gradient(circle at 12% 80%, rgba(108,61,232,.10) 0%, transparent 52%),
    radial-gradient(circle at 88% 15%, rgba(236,72,153,.10) 0%, transparent 52%);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:1rem;
}

/* ── Widget Shell ───────────────────────────────────────── */
.widget {
  background:var(--card);
  border-radius:var(--r-xl);
  box-shadow:
    0 28px 56px -10px rgba(108,61,232,.26),
    0 0 0 1px rgba(108,61,232,.07),
    0 4px 18px rgba(0,0,0,.06);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  width:100%;
  max-width:400px;       /* ← más compacto */
  height:600px;
  max-height:92vh;
  animation:slideUp .5s cubic-bezier(.16,1,.3,1) both;
}

/* ── Header ─────────────────────────────────────────────── */
.hdr {
  flex-shrink:0;
  padding:.95rem 1.15rem;
  background:var(--header-grad);
  display:flex;
  align-items:center;
  gap:.8rem;
  position:relative;
  overflow:hidden;
}
/* dot-grid texture */
.hdr::after {
  content:'';
  position:absolute; inset:0;
  background-image:radial-gradient(circle,rgba(255,255,255,.15) 1px,transparent 1px);
  background-size:15px 15px;
  pointer-events:none;
}
.hdr-avatar {
  flex-shrink:0;
  width:42px; height:42px;
  border-radius:50%;
  background:rgba(255,255,255,.18);
  border:2px solid rgba(255,255,255,.42);
  display:flex; align-items:center; justify-content:center;
  font-size:1.25rem;
  position:relative; z-index:1;
  animation:pulseRing 2.6s ease-in-out infinite;
}
.hdr-info { position:relative; z-index:1; flex:1; min-width:0; }
.hdr-title {
  font-weight:900; font-size:1rem;
  color:#fff; letter-spacing:-.015em; line-height:1.2;
}
.hdr-sub {
  display:flex; align-items:center; gap:.32rem;
  font-size:.71rem; font-weight:600;
  color:rgba(255,255,255,.82); margin-top:.1rem;
}
.status-dot {
  width:6px; height:6px; border-radius:50%;
  background:#4ade80;
  box-shadow:0 0 0 2px rgba(74,222,128,.3);
  flex-shrink:0;
}
.hdr-badge {
  position:relative; z-index:1;
  min-width:22px; height:22px;
  padding:0 6px; border-radius:var(--r-pill);
  background:var(--pink); color:#fff;
  font-size:.65rem; font-weight:900;
  display:flex; align-items:center; justify-content:center;
  animation:popIn .4s cubic-bezier(.16,1,.3,1) .6s both;
}

/* ── Messages ───────────────────────────────────────────── */
.msgs {
  flex:1; overflow-y:auto;
  padding:1.1rem 1rem;
  display:flex; flex-direction:column; gap:.75rem;
  background:var(--bg);
  background-image:
    radial-gradient(circle at 10% 90%,rgba(108,61,232,.05) 0%,transparent 50%),
    radial-gradient(circle at 90% 10%,rgba(236,72,153,.05) 0%,transparent 50%);
  scrollbar-width:thin;
  scrollbar-color:var(--scrollbar) transparent;
}
.msgs::-webkit-scrollbar { width:3px; }
.msgs::-webkit-scrollbar-thumb { background:var(--scrollbar); border-radius:99px; }

/* date divider */
.divider {
  display:flex; align-items:center; gap:.5rem;
  font-size:.65rem; font-weight:800;
  color:var(--fg); opacity:.36;
  text-transform:uppercase; letter-spacing:.09em;
}
.divider::before,.divider::after {
  content:''; flex:1; height:1px; background:var(--border);
}

/* ── Bubbles ────────────────────────────────────────────── */
.row { display:flex; animation:msgIn .3s cubic-bezier(.16,1,.3,1) both; }
.row--user { justify-content:flex-end; }
.row--bot  { justify-content:flex-start; }

.bubble {
  max-width:84%;
  padding:.65rem .9rem;
  border-radius:var(--r-md);
  font-size:.875rem;
  line-height:1.55;
  font-weight:600;
}
.bubble--user {
  background:var(--bubble-grad);
  color:#fff;
  border-bottom-right-radius:.25rem;
  box-shadow:0 3px 14px rgba(108,61,232,.3);
}
.bubble--bot {
  background:var(--card);
  color:var(--fg);
  border-bottom-left-radius:.25rem;
  border:1.5px solid var(--border);
  box-shadow:0 2px 6px rgba(0,0,0,.05);
}

/* ── Typing ─────────────────────────────────────────────── */
.typing {
  background:var(--card);
  border:1.5px solid var(--border);
  border-radius:var(--r-md); border-bottom-left-radius:.25rem;
  padding:.62rem .9rem;
  display:flex; align-items:center; gap:4px;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
  animation:msgIn .3s both;
}
.typing span {
  width:6px; height:6px; border-radius:50%;
  background:var(--primary-l);
  animation:dot 1.4s infinite ease-in-out;
}
.typing span:nth-child(2){ animation-delay:.2s; }
.typing span:nth-child(3){ animation-delay:.4s; }

/* ── Chips ──────────────────────────────────────────────── */
.chips {
  display:flex; gap:.38rem;
  margin-top:.52rem; flex-wrap:wrap;
}
.chip {
  padding:.32rem .75rem;
  border-radius:var(--r-pill);
  font-size:.72rem; font-weight:800;
  cursor:pointer;
  border:1.5px solid var(--border);
  background:var(--card);
  color:var(--fg);
  font-family:'Nunito',sans-serif;
  transition:all .17s cubic-bezier(.16,1,.3,1);
  animation:popIn .33s cubic-bezier(.16,1,.3,1) both;
}
.chip:nth-child(1){ animation-delay:.04s; }
.chip:nth-child(2){ animation-delay:.10s; }
.chip:nth-child(3){ animation-delay:.16s; }
.chip:nth-child(4){ animation-delay:.22s; }
.chip:hover {
  border-color:var(--primary); color:var(--primary);
  background:rgba(108,61,232,.07);
  transform:translateY(-2px);
  box-shadow:0 4px 10px rgba(108,61,232,.14);
}
.chip:active{ transform:scale(.95) translateY(0); }
.chip--solid {
  background:var(--bubble-grad);
  color:#fff; border-color:transparent;
  box-shadow:0 3px 9px rgba(108,61,232,.26);
}
.chip--solid:hover{ color:#fff; border-color:transparent; }

/* ── Agenda Card ────────────────────────────────────────── */
.card {
  margin-top:.48rem;
  background:var(--card);
  border:1.5px solid var(--border);
  border-radius:var(--r-sm);
  padding:.72rem .85rem .72rem 1.1rem;
  position:relative; overflow:hidden;
  box-shadow:0 2px 10px rgba(108,61,232,.07);
  transition:transform .18s ease, box-shadow .18s ease;
}
.card:hover {
  transform:translateY(-2px);
  box-shadow:0 5px 16px rgba(108,61,232,.14);
}
/* left color bar */
.card::before {
  content:'';
  position:absolute; left:0; top:0; bottom:0; width:4px;
  background:var(--bubble-grad);
  border-radius:var(--r-sm) 0 0 var(--r-sm);
}

.card-top {
  display:flex; align-items:center; gap:.4rem; margin-bottom:.25rem;
}
.card-time {
  font-family:'Space Mono',monospace;
  font-size:.66rem; font-weight:700;
  color:var(--primary);
  text-transform:uppercase; letter-spacing:.06em;
}
.card-tag {
  margin-left:auto;
  padding:.08rem .48rem;
  border-radius:var(--r-pill);
  font-size:.6rem; font-weight:800;
  text-transform:uppercase; letter-spacing:.05em;
}
.tag--exam  { background:#fef3c7; color:#d97706; }
.tag--task  { background:#d1fae5; color:#059669; }
.tag--class { background:#ede9fe; color:#7c3aed; }
.tag--event { background:#fce7f3; color:#db2777; }

.card-title {
  font-weight:900; font-size:.92rem;
  color:var(--fg); line-height:1.3; margin-bottom:.22rem;
}
.card-details {
  display:flex; flex-direction:column; gap:.16rem;
  font-size:.77rem; font-weight:600;
  color:var(--fg); opacity:.6;
}
.card-urgency {
  margin-top:.52rem; height:3px;
  border-radius:var(--r-pill); background:var(--border); overflow:hidden;
}
.card-urgency-fill {
  height:100%; border-radius:var(--r-pill);
  background:var(--bubble-grad);
  animation:fillBar .8s cubic-bezier(.16,1,.3,1) both;
}

/* ── Input ──────────────────────────────────────────────── */
.footer {
  flex-shrink:0;
  padding:.78rem .95rem;
  border-top:1.5px solid var(--border);
  background:var(--card);
  display:flex; gap:.45rem; align-items:center;
}
.input {
  flex:1;
  padding:.65rem 1rem;
  border-radius:var(--r-pill);
  border:1.5px solid var(--border);
  background:var(--input-bg);
  color:var(--fg);
  font-family:'Nunito',sans-serif;
  font-size:.865rem; font-weight:600;
  outline:none;
  transition:border-color .2s, box-shadow .2s;
}
.input::placeholder{ opacity:.4; }
.input:focus {
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(108,61,232,.13);
}
.send {
  flex-shrink:0;
  width:42px; height:42px;
  border-radius:50%;
  background:var(--bubble-grad);
  color:#fff; border:none;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(108,61,232,.36);
  transition:transform .14s, box-shadow .14s;
}
.send:hover { transform:scale(1.09); box-shadow:0 6px 18px rgba(108,61,232,.46); }
.send:active{ transform:scale(.93); }

/* ── Responsive ─────────────────────────────────────────── */
@media(max-width:440px){
  .widget { border-radius:1.3rem; height:100svh; max-height:100svh; max-width:100%; }
  body    { padding:0; align-items:stretch; }
}
